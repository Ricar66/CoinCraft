<Window x:Class="CoinCraft.App.Views.RecurringWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Lançamentos Recorrentes" Height="560" Width="900" WindowStartupLocation="CenterOwner">
    <DockPanel>
        <ToolBar DockPanel.Dock="Top">
            <Button Content="Adicionar" Click="OnAddClick" Margin="0,0,8,0"/>
            <Button Content="Editar" Click="OnEditClick" Margin="0,0,8,0"/>
            <Button Content="Excluir" Click="OnDeleteClick" Margin="0,0,8,0"/>
            <Separator/>
            <Button Content="Atualizar" Click="OnRefreshClick"/>
        </ToolBar>
        <StackPanel DockPanel.Dock="Top" Orientation="Horizontal" Margin="8">
            <StackPanel.Resources>
                <Style TargetType="FrameworkElement">
                    <Setter Property="Margin" Value="0,0,8,0"/>
                </Style>
            </StackPanel.Resources>
            <TextBlock Text="Conta:" VerticalAlignment="Center"/>
            <ComboBox x:Name="AccountFilter" DisplayMemberPath="Nome" SelectedValuePath="Id" Width="160"/>
            <TextBlock Text="Categoria:" VerticalAlignment="Center"/>
            <ComboBox x:Name="CategoryFilter" DisplayMemberPath="Nome" SelectedValuePath="Id" Width="160"/>
            <TextBlock Text="Frequência:" VerticalAlignment="Center"/>
            <ComboBox x:Name="FrequencyFilter" Width="140"/>
            <TextBlock Text="Nome:" VerticalAlignment="Center"/>
            <TextBox x:Name="NameFilter" Width="140"/>
            <TextBlock Text="Próx. De:" VerticalAlignment="Center"/>
            <DatePicker x:Name="FromPicker" Width="140"/>
            <TextBlock Text="Até:" VerticalAlignment="Center"/>
            <DatePicker x:Name="ToPicker" Width="140"/>
            <Button Content="Aplicar" Click="OnApplyFilters"/>
        </StackPanel>
        <StatusBar DockPanel.Dock="Bottom">
            <TextBlock Text="{Binding StatusMessage}"/>
        </StatusBar>
        <Grid Margin="8">
            <DataGrid ItemsSource="{Binding Items}"
                      SelectedItem="{Binding Selected, Mode=TwoWay}"
                      AutoGenerateColumns="False"
                      IsReadOnly="True"
                      CanUserAddRows="False"
                      CanUserDeleteRows="False"
                      SelectionMode="Single">
                <DataGrid.Columns>
                    <DataGridTextColumn Header="Nome" Binding="{Binding Nome}" Width="200"/>
                    <DataGridTextColumn Header="Frequência" Binding="{Binding Frequencia}" Width="100"/>
                    <DataGridTextColumn Header="Próxima Execução" Binding="{Binding NextRunDate, StringFormat=d}" Width="140"/>
                    <DataGridTextColumn Header="Tipo" Binding="{Binding Tipo}" Width="100"/>
                    <DataGridTextColumn Header="Valor" Binding="{Binding Valor}" Width="120"/>
                    <DataGridTextColumn Header="Conta" Binding="{Binding AccountId}" Width="80"/>
                    <DataGridTextColumn Header="Categoria" Binding="{Binding CategoryId}" Width="80"/>
                    <DataGridTextColumn Header="Auto" Binding="{Binding AutoLancamento}" Width="60"/>
                </DataGrid.Columns>
            </DataGrid>
        </Grid>
    </DockPanel>
</Window>